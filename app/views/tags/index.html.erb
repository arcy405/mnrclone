<%= render 'Homepage/navmenu' %>

<div class="container mt-2">
	<div class="row">
		<div class="col-md-6">
			<span class="mnryp_word"><%= t('all_listings') %></span>
		</div>
		<div class="col-md-6">
			<input type="text" class="form-control form-control-md" placeholder="Search For Business" id="business_search" onkeyup="tagsFilter()">
		</div>
	</div>
</div>
<div class="m-2">
  <i id="noresult" class="text-danger" style="display: none;">No Businesses for your search!! Try searching something else!!</i>
</div>
<%= render 'Homepage/categorycard' %>


<script type="text/javascript">
	
	function tagsFilter(){

      input = document.getElementById("business_search");
      filter_place = input.value.toUpperCase();

      cardContainer = document.getElementById("myItems");
      cards = cardContainer.getElementsByClassName("filtercard");
      count=0
      for (i = 0; i < cards.length; i++) {
        business_tag = cards[i].querySelector(".card-body .business_tag");

        if (business_tag.innerText.toUpperCase().indexOf(filter_place) > -1) {
            count+=1
            cards[i].style.display = "";
        } else {
                cards[i].style.display = "none";
            }
        }
        if (count === 0){
          document.getElementById("noresult").style.display =""
        }
        else{
          document.getElementById("noresult").style.display ="none"
        
        }
      
    }

</script>